2日目 晴れた日は冒険しよう
===========================

1. アドベンチャーしよう
----------------------

　ぐたぐだと文法を解説するだけでは、退屈きわまりないものになってしまう。そこで、簡単なアドベンチャーゲームを作成してみよう。とはいえ、いきなり凄いものなんて出来るわけがない。だから、すごーく簡単なアドベンチャーゲームを作成してみよう。

　このアドベンチャーは、状況と行動の選択肢が出るという、すごいシンプルなゲームだ。古い言葉を使うなら、ゲームブックだ。

2. 貴方がClojureに伝えたいこと
-----------------------------

　何はともあれ、ゲームにはプレイヤーの操作が必要だ。今回は、キーボードで、選択肢の番号を入力してもらう形にしようと思う。だから、手始めに、そこから始めよう。とはいっても、非常に簡単なもので、`read-line`関数を使えばいい。ありがちなサンプルだと、名前を入力して、それを返すという部分を作ってみよう、

```clojure
(println "貴方の名前はなんですか？")
(def your-name (read-line))
(println "こんにちは！" player-name)
```
　これで入力した文字列を、your-nameにセットすることができる。本当は、もっと上手いやりかたがあるけれども、今回は必要最低限でやっていこう。

3. 貴方が落としたのは、金の斧？銀の斧？
-------------------------------------

　今度は、有名な童話のシーンを再現してみよう。そのシーンとは、きこりが池に斧を落としたら、池の女神がやってくるシーンだ。

　複雑になりすぎないために、プレイヤーが行動を数字で選ばせるようにしよう。そこで、「3」だった場合だけ、金の斧と、銀の斧が手に入るようにしよう。

　さて、僕たちはいままで、値によって、表示する内容を変える、という方法をまだ知らなかった。この方法はある。もっとも簡単なのは`if`を使うことだ。

　`if`の役割は、値によって、あとでやるべきことを変えるということだ。僕たちの生活でも、「雨だったら家でだらだらしよう」とか考える。そういう風に、「○○だったら、××しよう」というのを表現できる。

```clojure
(println (if (= 2 (+ 1 1)) "正解" "間違い"))
```

　これを入力すると「正解」と出力されるはずだ。もし、ifの中の`2`を`3`にしたら、「間違い」と出力されるはずだ。どういうことなのかといえば、`if`のあとにある式が「真」か「偽」か、ということで結果が変わるようになっている。

　「真」と「偽」っていきなり言われると難しいけど、よくよく考えてみると簡単だ。

　私たちは、生活の中でいろんなものを比較する。例えば、あの店より、この店が安いとか、あるいは、このコロッケよりあのコロッケのほうが大きい、とかそういうことだ。当然、Clojureだって比較するのだ。

　たとえば、下の式を実行してみよう。

```clojure
(println (= 1 1)) ;; output: true
```

　この`true`というのは、前の式が「正しかった」ということをいう。逆に、`false`は間違いだった、ということをお知らせする。そして、`=`は、`AとBは一緒なの？`ということを表現している。

　ピンとこなければ、「1と1は同じだ！」といったら、君が嘘ついていることになるのかどうなのか、という風に考えてみるとよさそうだ。本当のことをいっているなら`true`、嘘をいっているなら`false`、それだけだ。`if`はこれを利用していて、正しいなら、3番目の値（式の結果）を、間違っているなら4番目（式の結果）を採用する。まとめると下の通りだ。

```
(if 比較する値(仮にxとする) xがtrueの場合に採用される値 xがfalseのときに採用される値)
```

```clojure
(println "「貴方が落としたのは、金の斧ですか？銀の斧ですか？」")
(println "1: 金の斧, 2: 銀の斧, 3: 普通の斧")
(def your-answer (read-line))
(if (= your-answer 3)
  (println "正直者には金の斧と銀の斧を与えましょう")
  (println "傲慢なものには、斧を返しません"))
```

　さて、これを実行して`3`を入れると、期待した通りの結果が返ってこないだろう。望むところとしては、"正直者には金の斧と銀の斧を与えましょう"と出てきて欲しいのだけれども、残念なことに"傲慢なものには、斧を返しません"と出る。それはそうで、文字列と数字は違うからだ。

```clojure
(= 3 "3") ;; => false
```

　ではどうするべきだろう？一つには素直に文字列を比較する、という方法がある。しかし、これにも少し罠がある。今回の場合、入力であった。例えば最後に空白が入ってたときのことを考えよう。

```clojure
(= "3" "3 ") ;; => false
```

　これは最初でも同じ事だ。

(未完)